<div class="container">
  <div class="row">
    <div class="col s12">
      <a [routerLink]="'/'" class="waves-effect waves-teal btn blue-grey darken-4">
        Home
        <i class="material-icons left">home</i>
      </a>
    </div>
  </div>
  <div class="card-panel">
    <h1>ToDo with NgRx</h1>
    <p>
      This is an example of a simple ToDo application using NgRx state manager. It uses a fake backend that always return 3 tasks with delay 500ms
    </p>
    <div class="row">
      <div class="col s12 l6">
        <div class="input-field inline">
          <input id="title" type="text" [(ngModel)]="title">
          <label for="title">Title</label>
        </div>
        <div class="input-field inline">
          <button type="button" class="waves-effect waves-teal btn-flat" (click)="addTodo(title)">
            Add new
          </button>
        </div>
      </div>
      <div class="col s8 l4">
        <app-filter (update)="changeFilter($event)" [filters]="filters" [active]="activeFilter$ | async"></app-filter>
      </div>
      <div class="col s4 l2">
        <p class="right-align">
          <button type="button" class="waves-effect waves-teal btn-flat" (click)="getTodos()">
            Refresh
          </button>
        </p>
      </div>
    </div>
    <div class="alert alert-info" role="alert" *ngIf="isLoading$ | async; else todos">
      Fetching Todos...
    </div>
    <ng-template #todos>
      <app-todos [todos]="todos$ | async" (delete)="deleteTodo($event)" (complete)="completeTodo($event)"></app-todos>
    </ng-template>
  </div>
</div>
